<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Lava Jato do Di</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <div class="container">
    <!-- Logo -->
    <img src="logo.png" alt="Lava Jato do Di" class="logo">

    <h1>Lava Jato do Di ðŸš—ðŸ§¼</h1>

    <!-- Data do dia -->
    <div class="resumo">
      <h2>Resumo do dia</h2>
      <p id="dataDia"></p>
      <p>Carros lavados: <span id="totalCarros">0</span></p>
      <p>Motos lavadas: <span id="totalMotos">0</span></p>
      <p>CaminhÃµes lavados: <span id="totalCaminhoes">0</span></p>
      <p>Total arrecadado: R$ <span id="totalGeral">0</span></p>
    </div>

    <!-- BotÃ£o Reset do dia -->
    <button id="resetButton" onclick="resetDia()">Reset do dia</button>

    <!-- FormulÃ¡rio de registro -->
    <div class="form">
      <input type="text" id="funcionario" placeholder="Nome do funcionÃ¡rio">
      <select id="veiculo">
        <option value="carro">Carro</option>
        <option value="moto">Moto</option>
        <option value="caminhao">CaminhÃ£o</option>
      </select>
      <button onclick="adicionarRegistro()">Adicionar</button>
    </div>

    <!-- Lista de registros -->
    <h2>Registros</h2>
    <ul id="registrosList"></ul>

    <!-- Lista de ganhos -->
    <h2>Ganhos por funcionÃ¡rio</h2>
    <ul id="ganhosList"></ul>

    <!-- Login do dono -->
    <div class="admin-login">
      <input type="password" id="senhaAdmin" placeholder="Senha do dono">
      <button onclick="entrarAdmin()">Entrar como dono</button>
    </div>

    <!-- Painel do dono -->
    <div id="painelDono" style="display:none;">
      <h2>Painel do dono</h2>
      <ul id="registrosDono"></ul>
      <button onclick="sairAdmin()">Sair do painel</button>
    </div>
  </div>

  <script>
    const registros = JSON.parse(localStorage.getItem("registros")) || [];
    const valores = { carro: 20, moto: 10, caminhao: 50 };
    const icones = { carro: "carro.png", moto: "moto.png", caminhao: "caminhao.png" };
    const senhaCorreta = "1234"; // Substitua pela sua senha

    function atualizarData() {
      const hoje = new Date();
      const dia = String(hoje.getDate()).padStart(2, '0');
      const mes = String(hoje.getMonth() + 1).padStart(2, '0');
      const ano = hoje.getFullYear();
      document.getElementById("dataDia").textContent = `Dia: ${dia}/${mes}/${ano}`;
    }

    function adicionarRegistro() {
      const funcionario = document.getElementById("funcionario").value.trim();
      const veiculo = document.getElementById("veiculo").value;
      if (!funcionario) return alert("Digite o nome do funcionÃ¡rio!");
      
      registros.push({ funcionario, veiculo });
      document.getElementById("funcionario").value = "";

      salvarRegistros();
      atualizarListas();
      atualizarPainelDono();
    }

    function atualizarListas() {
      const registrosList = document.getElementById("registrosList");
      const ganhosList = document.getElementById("ganhosList");
      
      registrosList.innerHTML = "";
      const ganhos = {};
      let totalCarros = 0;
      let totalMotos = 0;
      let totalCaminhoes = 0;
      let totalGeral = 0;

      registros.forEach(r => {
        if (r.veiculo === "carro") totalCarros++;
        if (r.veiculo === "moto") totalMotos++;
        if (r.veiculo === "caminhao") totalCaminhoes++;
        totalGeral += valores[r.veiculo];

        const li = document.createElement("li");
        const img = document.createElement("img");
        img.src = icones[r.veiculo];
        img.alt = r.veiculo;
        img.className = "icone-veiculo";

        li.appendChild(img);
        li.appendChild(document.createTextNode(` ${r.funcionario} lavou um ${r.veiculo} (+R$ ${valores[r.veiculo]})`));
        registrosList.appendChild(li);

        ganhos[r.funcionario] = (ganhos[r.funcionario] || 0) + valores[r.veiculo];
      });

      document.getElementById("totalCarros").textContent = totalCarros;
      document.getElementById("totalMotos").textContent = totalMotos;
      document.getElementById("totalCaminhoes").textContent = totalCaminhoes;
      document.getElementById("totalGeral").textContent = totalGeral;

      ganhosList.innerHTML = "";
      for (const [nome, total] of Object.entries(ganhos)) {
        const li = document.createElement("li");
        li.textContent = `${nome}: R$ ${total}`;
        ganhosList.appendChild(li);
      }
    }

    function resetDia() {
      if (!confirm("Tem certeza que deseja limpar todos os registros do dia?")) return;
      registros.length = 0;
      salvarRegistros();
      atualizarListas();
      atualizarPainelDono();
    }

    function salvarRegistros() {
      localStorage.setItem("registros", JSON.stringify(registros));
    }

    // Painel do dono
    function entrarAdmin() {
      const senha = document.getElementById("senhaAdmin").value;
      if (senha === senhaCorreta) {
        document.getElementById("painelDono").style.display = "block";
        document.querySelector(".admin-login").style.display = "none";
        atualizarPainelDono();
      } else {
        alert("Senha incorreta!");
      }
    }

    function sairAdmin() {
      document.getElementById("painelDono").style.display = "none";
      document.querySelector(".admin-login").style.display = "block";
    }

    function atualizarPainelDono() {
      const painel = document.getElementById("registrosDono");
      painel.innerHTML = "";
      registros.forEach((r, i) => {
        const li = document.createElement("li");
        li.textContent = `${r.funcionario} lavou ${r.veiculo} (+R$ ${valores[r.veiculo]})`;
        painel.appendChild(li);
      });
    }

    window.onload = function() {
      atualizarData();
      atualizarListas();
    };
  </script>
</body>
</html>
